#!/usr/bin/env bash
set -euo pipefail

ROOT_DIR=$(git rev-parse --show-toplevel)

if [[ -z "${JAVA_HOME:-}" ]]; then
  echo "[pre-commit] JAVA_HOME must point to a Java 17 JDK before committing." >&2
  exit 1
fi

"$ROOT_DIR"/gradlew --no-daemon spotlessApply check
